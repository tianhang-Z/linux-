#### VI/VIM
VI是Unix操作系统和类Unix操作系统中最通用的文本编辑器。
VIM编辑器是从VI发展出来的一个性能更强大的文本编辑器。可以主动的以字体颜色辨别语法的正确性，方便程序设计。VIM 与VI编辑器完全兼容。

![img](https://img-blog.csdnimg.cn/1e539d9cf1be42218a4b27a659908b54.png)

基本上 vi/vim 共分为三种模式，分别是一般模式，编辑模式和命令模式。

![img](https://img-blog.csdnimg.cn/e33ebfd4bbb445bd9b1c630cde96a543.png#pic_center)

#### 一般模式
==**刚刚启动 vi/vim，便进入了一般模式(默认模式)**==。此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。在此模式==可以复制黏贴，删除==等操作。若想要编辑文本，进入一般模式，按下i，切换到编辑模式。

| 按键          | 说明                                                  |
| :------------ | ----------------------------------------------------- |
| dd            | 删除光标所在行                                        |
| 5dd           | 删除光标所在及下面共5行                               |
| y             | 复制光标所在行                                        |
| yy            | 同上                                                  |
| 5yy           | 复制下面5行 （包括本行                                |
| p             | 粘贴到光标下一行                                      |
| 5p            | 粘贴5次                                               |
| u             | 撤销                                                  |
| 5u            | 连续撤销5次                                           |
| ctrl+r        | 取消撤销                                              |
|               |                                                       |
| y$            | 复制光标处字符 到 该行最后                            |
| y^  /y0       | 复制光标处前一个字符 到 该行开始                      |
| d$            | 删除光标处字符 到行最后                               |
| d^ /d0        |                                                       |
|               |                                                       |
| d1G           | 删除光标所在到第一行的所有                            |
| dG            | 删除光标所在到最后一行所有                            |
| y1G           | 复制光标到第一行                                      |
| yG            | 复制光标到最后一行                                    |
|               |                                                       |
| x             | 向后删除一个字符                                      |
| 5x            | 向后删除5个字符                                       |
| X             | 向前删除一个字符 相当于backspace       按住shift再按x |
|               |                                                       |
| r             | 单个字符的替换                                        |
| R             | 替换多个字符       左下角直接replace模式              |
|               |                                                       |
| 光标移动      |                                                       |
| shift+6  即^  | 跳到行首                                              |
| shift+4   即$ | 跳到行末                                              |
| gg            | 跳到文档开头                                          |
| G             | 跳到文档最后一行                                      |
| 7G            | 跳到第7行                                             |
| ww            | 跳到下一单词                                          |
| dw            | 删除单词                                              |



#### 编辑模式
在一般模式之中，只要按下==**i, o, a**== 等字符就可以进入输入模式。在编辑模式当中，左下角状态栏中会出现 –INSERT- 的字样，那就是可以输入任意字符的提示。这个时候，键盘上除了 Esc 这个按键之外，其他的按键都可以视作为一般的输入按钮。

敲敲看就知道了

| 按键  | 说明                                                         |
| ----- | ------------------------------------------------------------ |
| i   I |                                                              |
| a  A  |                                                              |
| o   O |                                                              |
| r   R | r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止 |


i, I	i 为从目前光标所在处输入， I 在目前所在行的第一个非空格符处开始输入
a, A	a 为从目前光标所在的下一个字符处开始输入， A 为从光标所在行的最后一个字符处开始输入
o, O	o 为在目前光标所在的下一行处输入新的一行； O 为在目前光标所在的上一行处输入新的一行
r, R	r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止

#### **命令模式**
在一般模式之中，只要按下 ：或 / 就可以进入命令模式。

| 按键         | 说明 |
| ------------ | ---- |
| :w           |      |
| :w           |      |
| :q           |      |
| :q!          |      |
| :wq          |      |
|              |      |
| :w[filename] |      |
| :r[filename] |      |
|              |      |
| :set nu      |      |
| :set nonu    |      |
|              |      |

/boot  查到boot这个单词   n查找下一个  N查找上一个

:s/boot/boott   将当前行的第一个boot替换成boott  

:s/boot/boott/g  该行的boot全部替换

：%s/boot/newboot        替换全文每一行的第一个boot

：%s/boot/newboot/g   替换全文的所有boot单词







按键	说明
:w	保存
:w!	若文件属性为只读时，强制写入该档案。不过，能不能写入， 还跟你对该档案的档案权限有关
:q	退出
:q!	强制退出
:wq	保存并退出
ZZ	效果等同于保存并退出
ZQ	效果等同于 :q!
:w [filename]	将编辑的数据储存成另一个文件
:r [filename]	在编辑的数据中，读入另一个文件的数据。将filename这个档案内容加到游标所在行后面
:n1,n2 w [filename]	将 n1 到 n2 的内容储存成 filename 这个档案
:! command	暂时离开 vi 到指令行模式下执行 command 的显示结果！例：:! ls /home 即可在 vi 当中察看 /home 底下以 ls 输出的档案信息
:set nu	显示行号
:set nonu	取消行号
:noh	取消高亮显示

: s/old/new	替换当前匹配到的第一个 old 为 new
: s/old/new/g	替换当前匹配到所有的 old 为 new
:%s/old/new	替换文档中每一行匹配到的第一个 old 为 new
:%s/old/new/g	替换文档中匹配到所有的 old 为 newwho
